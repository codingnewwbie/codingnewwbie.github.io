---
layout: post
title: "250513 TIL"
subtitle: "유니티 입문 조별과제"
date: 2025-05-13
author: codingnewwbie
---
## 유니티 입문 조별과제 트러블슈팅
- 코루틴
  1. 문제 : 스피드 아이템 중복 적용 시, 지속시간을 초기화하려고 함.
  2. 원인 : 해당 아이템의 스크립트에 StopCoroutine을 넣어 조절하려고 했으나, 해당 스크립트는 아이템 개별마다 존재하여 이전 코루틴의 적용 여부를 가지고 있지 못함.
  3. 해결 : 오브젝트가 유지되고 있는 플레이어의 스크립트에 해당 아이템의 적용 여부 확인용 public 변수로 해당하면 해당 코루틴을 멈추고 다시 아이템 스크립트의 코루틴을 실행하도록 조정.
  4. 이상한 고집? : 뭔가 아이템을 수정하려고 하면, 해당 스크립트 안에서만 수정하려는 고집이 있었던 것 같다. 생각보다 이런 경우가 많고, 이대로 하면 여러 기능이 이곳저곳에 퍼져 스파게티 코드가 될 것이다. 주의요망.

- 개인 볼륨 설정 저장(PlayerPrefs)
  1. 문제 : UnityException: HasKey is not allowed to be called from a MonoBehaviour constructor (or instance field initializer), call it in Awake or Start instead 에러.
  2. 원인 : 아무생각없이 선언 및 초기화를 같이 진행하려고 해서, Start나 Awake에서 초기화하라는 Unity 에러.
  3. 해결 : Start로 위치 옮겨주니 해결.

- 최고 점수 저장
  1. 문제 : 스테이지별 최고 점수가 저장되지 않는 문제
  2. 원인 : 메서드 만들어놓고 게임종료 시 호출하지 않음.
  3. 해결 : 게임종료 시 해당 메서드 호출.

- 스테이지별 최고 점수 저장 메서드
  1. 문제? : 스테이지별 최고 점수 저장을 어떻게 확장성 있게 만들 것인가.
  2. 원인? : 저장은 문제가 없으나, 난이도별 저장 로직을 어떻게 구현할 것인가.
  3. 해결? : 스테이지별 실행 난이도가 달라지는 것을 이용, readonly string 저장키를 만들고, 난이도에 따라 저장키를 달라지도록 변경 후 해당 키를 이용해서 저장 및 불러오기하도록 수정.
