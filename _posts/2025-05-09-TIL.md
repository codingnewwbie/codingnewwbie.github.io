---
layout: post
title: "250509 TIL"
subtitle: "유니티 입문 조별과제"
date: 2025-05-09
author: codingnewwbie
---
## 유니티 입문 조별과제 트러블슈팅
- 깃허브
  1. 전제 : 유니티 강의를 들으면서 써왔던 깃은, 스크립트만 따로 가지고와서 저장하는 쪽이어서, 깃허브 충돌이 일어날 거라 생각하지 않았다.
  2. 문제 : 깃허브를 통해 push까진 문제가 없으나, main으로 merge 할 때, 자동으로 생성되는 .Unity 파일들 때문에 충돌이 난다는 것 자체가 이해가 가질 않았다.
  4. 원인 : 프리펩, 오브젝트, 레이어 등을 생성 / 조작 / 제거할 때 .Unity 파일에 설정이 저장된다. 이 때, main과 내 브런치의 Unity 파일이 충돌된다.
  5. 여전히 이해가 가질 않는 점 : Unity 파일은 내가 조작하는 것이 아닌데, 그럼 스크립트나 Setting에서 개발자들이 직접 만지는 파일들만 머지되고, 해당 폴더가 유니티 엔진에서 로드될 때 다시 빌드해야 되는거 아닌가?     
  5. (왜 해결되었는지 이해가 안 되는) 해결 : .Unity 파일에서, id(&뒤의 숫자)가 유일하도록 수정해줘야 한다.

- 오브젝트 무한생성
    1. 문제 : 오브젝트를 획득하고 나서, 게임 오브젝트가 의도치 않게 둘 이상 생성되는 문제.
    2. 문제해설 : 아이템 오브젝트를 전체 15개로 유지하려고 했으나, 게임이 진행되며 점점 수십, 수백개로 늘어나고 있었다.
    3. 원인 : OnTriggerEnter2D 에서 조건에 따라 아이템 획득 --> 효과처리 --> 파괴 --> 랜덤생성의 로직이었으나, 확인해보니 한 아이템이 여러 번 효과처리~생성되고 있었다.
    4. 해결 : bool 변수를 추가하여, OnTriggerEnter2D가 아이템 당 한 번만 실행되도록 하니 오브젝트가 계속해서 생성되는 문제가 해결되었다.
    5. 주석 : 분명 해결은 되었으나, 원인이 아직 이해가 가질 않는다. 분명 로직상 OnTriggerEnter2D는 오브젝트와 충돌될 때 실행되고, 실행될 때 파괴까지 처리했는데 어째서 해당 오브젝트와 다시 충돌이 일어나는 건지 도저히 모르겠다.

  - 아이템 생성 시 장애물과의 충돌
      1. 문제 : 장애물과 충돌될 때 아이템의 y 위치를 옮기는 로직이었으나, 장애물이 없는 곳에서도 아이템의 위치가 조절되는 현상.
      2. 원인 : 프리펩화 되어 있는 장애물이 있고, 장애물 중첩이 있는 오브젝트가 있었는데 이를 인식해서 아이템의 y축이 조절되고 있었다.
      3. 원인 추론 : Start()에서 생성되어 있는 장애물을 배치하는 것과 아이템 생성이 동시에 일어나는데, 아이템이 생성될 때, 배치 전 장애물의 초기 위치와 충돌해 y축으로 이동, 장애물은 x축으로 이동하여 빈 자리에서 y축으로 이동하는 것처럼 보인다.
      4. 해결 : 해당 오브젝트를 Scene 아래로 이동하니 문제가 해결되었다.

  - NullReferenceException
    1. 원인 : BaseItem과 CreateItem을 분리, 아이템 생성 후 데이터를 BaseItem에서 선언한 itemData로 가져와야 하는데 가져오지 않았다.
    2. 해결 : 초기엔 그냥 생성만 했는데, 생성한 오브젝트의 부모클래스를 찾고 해당 데이터를 생성한 아이템의 데이터에 저장하는 로직 구현함.

  - 메서드 오버로딩
    1. 문제? : 부모 클래스 BaseItem으로부터 상속받은 각각의 ScoreItem, EffectItem의 효과처리 도중, Score는 매개변수가 필요 없으나 Effect는 매개변수(=player)가 필요하여 오버로딩을 사용해보기로 함.
    2. 문제! : virtual로 선언한 메서드를 자식클래스의 메서드에서 매개변수를 넣지 않으니 에러 발생(재정의에 적합한 메서드가 없음)
    3. 공부 : 오버라이드와 오버로딩의 개념을 혼동. 오버라이드는 매개변수의 타입, 수, 순서가 달라질 수 없음.
    4. 해결 : 해당 메서드는 자식클래스에서 오버라이드하려고 준비한 메서드. 따라서, 부모클래스에서 매개변수에 ameObject 변수명을 넣고, 자식클래스에서는 사용할지 말지 선택.
    5. 해결? : 다만 위처럼 했을 땐, 필요없는 ScoreItem에서는 player가 자꾸 전달되는 것 같아 낭비같다. 다른 방법을 찾아봐야겠다.
